<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Modal</title>
    <link rel="stylesheet" href="../dist/modal.css">
    <style>
        .hidden {
            position: absolute;
            left: -900em;
        }

        h1 {
            margin: 50px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="modalElement" class="hidden">
        <p>Content</p>
        <button id="new">New content</button>
    </div>
    <div id="modalElement2" class="hidden">
        Content 2
        <button data-closemodal>Close</button>
    </div>

    <h1 class="hidden">Closed!</h1>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="../dist/modal.js"></script>
    <script>
        (function() {
            var newModal = new FW.Modal({
                content: document.getElementById('modalElement'),
                maxWidth: 600,
                closeButton: false,
                closeOnEscape: false,
                closeOnOverlay: false,
                onClose: function() {
                    document.querySelector('h1').classList.remove('hidden');
                },
                onOpen: function() {
                    var modal = document.querySelector('.modal'),
                        btn = modal.querySelector('#new');

                    btn.addEventListener('click', function() {
                        newModal.setContent( document.getElementById('modalElement2'), onSetContent );
                    }, false);


                }
            });

            function onSetContent() {
                var modal = document.querySelector('.modal');

                modal.querySelector('[data-closemodal]').addEventListener('click', function() {
                    newModal.close();
                }, false);
            }

            newModal.open();
        })();
    </script>
</body>
</html>